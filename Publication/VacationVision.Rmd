---
title: "Vacation Vision: A holiday recommendation engine"
author: "Peter Moore"
date: "`r Sys.Date()`"
output:
  word_document:
    highlight: pygment
    fig_caption: true
    reference_docx: VacationVisionTemplate.docx
course: AC53011
studentid: '170000983'
bibliography: skeleton.bib
link-citations: yes
---

```{r r-keep-tidy, include = FALSE}

# This is the Rmarkdown that forms the html that forms the original Python in SSMS presentation
# as the presentation mutates, different branches will be published per venue


options(warn=-1)
rm(list=ls()) #clear variables
cat("\014")  #clear console

```


```{r r-setup-part-1, include=FALSE} 
# we are going to use R, sql and python and we are going to set them up now.

# use the tidyverse library for visual output
require(tidyverse)

# use the reticulate library to speak to python
library(reticulate)

# use dplyr for data transformations
library(dplyr)

# use for image rendering
library(png)
library(grid)

# and immediately deploy reticulate to utilise conda
use_condaenv(condaenv="VacationVision", required =TRUE)

```


```{python py-setup, include=FALSE}
PATH_FILE="/Users/petermoore/Documents/GitHub/VacationVision/Python"
import os
os.chdir(PATH_FILE)
import sys
sys.path.append(PATH_FILE) #add local directory to path

from setup import pyodbcdsn, sqlalchemydsn, rawdsn, sqluser, sqlpassword, sqlport, sqldb

```

```{r r-setup-part-2,include=FALSE} 

# use the DBI and odbc packages to connet to sql from R
#(NB the exact connections.yaml file is not included, for obvious password-related reasons, but I've provided a mock-up in the ODBC folder which you could adapt)
library(DBI) # for SQL database calls
library(odbc) # for R database calls



# get connection variables 
con <- DBI::dbConnect(odbc::odbc(),
                      DSN = py$rawdsn,
                      uid = py$sqluser,
                      pwd = py$sqlpassword)

# collate these in knitr with all the other chunk options
knitr::opts_chunk$set(tidy = FALSE, 
                      cache.extra = packageVersion('tufte'), 
                      connection = con, 
                      max.print = NA, 
                      fig.pos = 'H',
                      fig.width = 5,
                      fig.height = 5) 
knitr::knit_engines$set(python = reticulate::eng_python)

# set up html
options(htmltools.dir.version = FALSE)


```

***

```{sql test, echo=TRUE, eval=TRUE}
SELECT @@SERVERNAME
```

![University of Dundee](images/DundeeLogo.png)\ 

University of Dundee

Course: AC53011

Studentid: 170000983

Supervisor: Dr Karen Petrie

A thesis submitted in fulfillment of the requirements for the degree of MSc Data Science (School of Computing)

***
**Vacation Vision: A recommendation engine for the travel industry using twitter-based sentiment analysis; image detection and collaborative filtering**
*** 






## Executive Summary

This project...




## Declaration

“I declare that the special study described in this dissertation has been carried out and the dissertation composed by me, and that the dissertation has not been accepted in fulfilment of the requirements of any other degree or professional qualification.”

![Peter Moore](images/PMSig.jpg)
***

Peter Moore



## Certificate


I certify that Peter Moore has satisfied the conditions of the Ordinance and Regulations and is qualified to submit this dissertation in application for the degree of Master of Science.



***

Dr Karen Petrie



## Acknowledgements

I would like to thank my supervisor, Dr Karen Petrie for their guidance throughout the project.

I would also like to thank Professor Mark Whitehorn, Professor Annalu Waller and Mr Andy Cobley fortheir extra-curricular support.

I would like to thank my family for their support. Especially those my partner and daughter who had to live with me whilst writing this. 


\tableofcontents
\listoffigures
\listoftables


## Vacation Vision: A recommendation engine for the travel industry using twitter-based sentiment analysis; image detection and collaborative filtering

## Introduction

The aim of this project is to recommend exotic holiday destinations for people. “Exotic” in this case meaning places they may never have thought of going but that would suit them. These would be recommended via an analysis of their own holiday snaps per their Twitter feed and a comparison with their peers.

## Approach

## Workflow

## Background

### Twitter 

Twitter is a ...

As per @finin2010annotating

Totally worth invoking Crisp-DM at this point.

### Contraints


* Twitter's move to 280 characters in late 2017^[https://blog.twitter.com/official/en_us/topics/product/2017/Giving-you-more-characters-to-express-yourself.html] leads t
o a lack of establised literature on the new longer tweet length and the vast majority of thepreviouswork discussed here pre-dates this. It would be interesting to review Twitter with a view to the linguistic effect of this change (for example has it led to less abbreviations). Since this project is not concerned directly with tweet lenght and expands abbreviations, this is not considered deleterious to the research.

* The @cheng2010you dataset is US-based potentially introducing bias to the control corpus

* Furthermore, the analyses are English-language analyses although the methodology should be scalable to other languages

## Ethics statement

All tweets collected were available publicly and collected using the (public) twitter API.  Twitter’s international terms of service were observed (https://twitter.com/en/tos#intlTerms).

## Conclusion

## Reflection

This represents merely the beginning of what can be achieved by mining twitter data in the travel sector. Ancillary to this project, but fascinating overall, is the processing of real-time tweets. For example @odlum2015can use real-time twitter information to monitor the spread of the Ebola disease virus. Methodologies such as this could be adapted for data subjects as their vacations approach, for safety (for example political unrest), for packing the suitcase (for example forthcoming extreme weather events) or for fun (for example local sports teams reaching finals). 

This study is not longitudinal, it does not examine the impact of longer-period trends. For example, the relative decline in attraction of the USA and rise in attraction of Oceania over the last fifty years @ballantyne2009trends.


***

Peter Moore

`r Sys.Date()`

## Appendices

### Appendix 2: Travel Agency Twitter Feeds

```{r tables-appendix-travel-agency-twitter-feeds, eval =TRUE, echo=FALSE}
library(readxl)
xlSkillsMatrix<-read_excel("VacationVision.xlsx", sheet = "TravelAgents")
knitr::kable(xlSkillsMatrix, caption = 'Skills Matrix')
```

### Appendix 3: Twitter Pseudonimisation Algorithm

```{python pyPseudonymisation, echo = FALSE, eval=TRUE, comment=""}
from GenericFunctionality import fromtextExtractNameObjects, getFunctionText
import inspect
print(getFunctionText(fromtextExtractNameObjects))
```

### Appendix X

Matrix of skills used and whether or not I had prior^["Prior" meaning before 1st January 2017] experience.

```{r tables-appendix-skillsmatrix, eval =TRUE, echo=FALSE}
library(readxl)
xlSkillsMatrix<-read_excel("VacationVision.xlsx", sheet = "Skills")
knitr::kable(xlSkillsMatrix, caption = 'Skills Matrix')
```


## References
